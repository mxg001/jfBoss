<!-- head -->
<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-md-12">
        <ol class="breadcrumb">
            <li><a>主页</a></li>
            <li><a>业务管理</a></li>
            <li class="active"><strong>用户激活</strong></li>
        </ol>
    </div>
</div>
<!-- 主要内容 -->
<div class="wrapper wrapper-content animated fadeIn" ng-controller="busActivityConfigCtrl">
    <form class="form-horizontal" id="form1" name="horizontalCardAdd">
        <div class="form-group">
            <div class="row">
                <div class="col-lg-12">
                    <div class="tabs-container tab_other">
                        <uib-tabset>
                            <uib-tab>
                                <uib-tab-heading>
									<span class="block m-t-xs"> <i class="fa fa-laptop"></i> <strong
                                            class="font-bold">活动属性</strong>
									</span>
                                </uib-tab-heading>
                                <div class="panel-body ibox float-e-margins">
                                    <div class="ibox-title">
                                        <h5>活动属性</h5>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label"><i class="red_req">*</i>活动名称:</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control" name="actName" required maxlength="20" ng-model="addInfo.actName">
                                            <div class="req_mesg" ng-show="horizontalCardAdd.actName.$dirty && horizontalCardAdd.actName.$invalid">
                                                <span ng-show="horizontalCardAdd.actName.$error.required">活动名称不能为空</span>
                                            </div>
                                        </div>
                                        <label style="margin-top:7px;">注:不能多于20个字</label>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">活动说明:</label>
                                        <div class="col-sm-5">
                                            <textarea type="text" class="form-control" ng-model="addInfo.actDesc">
                                            </textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label"><i class="red_req">*</i>活动时间:</label>
                                        <div class="col-sm-5">
                                            <input id="d5231" class="form-control" type="datetime" required name="actBeginTime" ng-model="addInfo.actBeginTime" onchange=""  style="width:auto;display:inline-block;"
                                                   onFocus="var d5232=$dp.$('d5232');WdatePicker({skin:'whyGreen',dateFmt:'yyyy-MM-dd HH:mm:ss',onpicked:function(){d5232.focus();},maxDate:'#F{$dp.$D(\'d5232\')}'})"/>
                                            ~
                                            <input id="d5232" class="form-control" type="datetime" required name="actEndTime" ng-model="addInfo.actEndTime" onchange=""  style="width:auto;display:inline-block;"
                                                   onFocus="WdatePicker({skin:'whyGreen',dateFmt: 'yyyy-MM-dd HH:mm:ss',minDate:'#F{$dp.$D(\'d5231\')}'})"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label"><i class="red_req">*</i>序列号:</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control" name="seqNo" required ng-model="addInfo.seqNo" ng-pattern="/^([1-9]\d{0,9})?$/" >
                                            <div class="req_mesg" ng-show="horizontalCardAdd.seqNo.$dirty && horizontalCardAdd.seqNo.$invalid">
                                                <span ng-show="horizontalCardAdd.seqNo.$error.required">序列号不能为空</span>
                                                <span ng-show="horizontalCardAdd.seqNo.$error.pattern">序列号格式不符</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label"><i class="red_req">*</i>活动图片:</label>
                                        <div class="col-img" ng-if="addInfo.actImg!=null&&addInfo.actImg!=''" >
                                            <a href="{{addInfo.actImg}}" fancybox rel="group">
                                                <img width="250px" height="150px" ng-src="{{addInfo.actImg}}"/>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label"></label>
                                        <div class="col-sm-7">
                                            <input type="file" nv-file-select="" uploader="uploaderImg"   multiple  />
                                            <span style="margin: 3px;color: red;"><br>注意:仅支持上传500KB以内的图片，设计稿大小690*250像素</span>
                                            <table class="table">
                                                <tbody>
                                                <tr ng-repeat="item in uploaderImg.queue">
                                                    <td>
                                                        <div ng-show="uploaderImg.isHTML5" ng-thumb="{ file: item._file, height: 100 }"></div>
                                                    </td>
                                                    <td nowrap>
                                                        <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
                                                            <span class="glyphicon glyphicon-trash"></span> 删除
                                                        </button>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label"><i class="red_req">*</i>奖项说明:</label>
                                        <div class="col-sm-8">
                                            <summernote type="text" required config="summeroptions" id="summernote1" class="form-control" name="awardDesc"  ng-model="addInfo.awardDesc" editable="editable" editor="editor" >
                                            </summernote>
                                            <div class="req_mesg" ng-show="horizontalCardAdd.awardDesc.$dirty && horizontalCardAdd.awardDesc.$invalid">
                                                <span ng-show="horizontalCardAdd.awardDesc.$error.required">奖项说明不能为空</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label"><i class="red_req">*</i>规则说明:</label>
                                        <div class="col-lg-8">
                                            <summernote type="text" required config="summeroptions" id="summernote2" class="form-control" name="actRule"  ng-model="addInfo.actRule" editable="editable" editor="editor" >
                                            </summernote>
                                            <div class="req_mesg" ng-show="horizontalCardAdd.actRule.$dirty && horizontalCardAdd.actRule.$invalid">
                                                <span ng-show="horizontalCardAdd.actRule.$error.required">规则说明不能为空</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">网页链接:</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" disabled ng-model="addInfo.actLink">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label"></label>
                                        <div class="col-sm-6">
                                            <button class="btn btn-primary btn-mr20" type="button" ng-click="commitInfo()" ng-disabled="horizontalCardAdd.$invalid || submitting">提交</button>
                                            <a class="btn btn-primary4" ui-sref="management.activityChoice({businessNo:businessNo})" >返回</a>
                                        </div>
                                    </div>
                                </div>
                            </uib-tab>
                            <uib-tab>
                                <uib-tab-heading>
									<span class="block m-t-xs"> <i class="fa fa-laptop"></i> <strong
                                            class="font-bold">内容设置</strong>
									</span>
                                </uib-tab-heading>
                                <div class="panel-body ibox float-e-margins">
                                    <div class="ibox-title">
                                        <h5>内容设置</h5>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-12" >
                                            <a class="btn btn-primary5 btn-mr20" style="float:right;" type="button" ng-show="hasPermit('activityChoice.addActiInfo')" ng-click="addPrizeClick()" >新增</a>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-12">
                                            <div class="gridStyle"  ui-grid="userGrid" ui-grid-selection ui-grid-resize-columns ui-grid-pinning></div>
                                            <div ng-show="loadImg" class="timg"></div>
                                        </div>
                                    </div>
                                </div>
                            </uib-tab>
                        </uib-tabset>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

